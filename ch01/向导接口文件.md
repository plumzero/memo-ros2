
在工作空间下，执行下面的命令创建一个功能包 tutorial_interfaces:
```s
  cd src
  ros2 pkg create --build-type ament_cmake tutorial_interfaces --dependencies rosidl_default_generators
```

### 创建主题消息

在 tutorial_interfaces 目录下创建 msg 目录，然后在 msg 目录下创建 Num.msg 文件，文件内容如下:
```s
int64 num
```

### 创建服务消息

在 tutorial_interfaces 目录下创建 srv 目录，然后在 srv 目录下创建 AddThreeInts.srv 文件，文件内容如下:
```s
int64 a
int64 b
int64 c
---
int64 sum
```

### 依赖项

将下面的代码添加到 package.xml 文件中(注意顺序，否则出错):
```xml
  ...
  <buildtool_depend>rosidl_default_generators</buildtool_depend>

  <exec_depend>rosidl_default_runtime</exec_depend>
  ...
  <member_of_group>rosidl_interface_packages</member_of_group>
  ...
```

### 编译规则

将下面的代码添加到 CMakeLists.txt 文件中:
```s
...
rosidl_generate_interfaces(${PROJECT_NAME}
  "msg/Num.msg"
  "srv/AddThreeInts.srv"
)
...
```

### 编译

```s
  colcon build --packages-select tutorial_interfaces
```

### 使用(可忽略)

```s
  source install/setup.bash
```
执行上面的命令就可以使用了。在 CMakeLists.txt 中使用方法如下:
```s
find_package(tutorial_interfaces REQUIRED)
```
