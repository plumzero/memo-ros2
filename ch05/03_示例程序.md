
将来自 Fast-DDS v3.4.1 版本下的 examples 的[hello_world](https://github.com/eProsima/Fast-DDS/tree/v3.4.1/examples/cpp/hello_world)尝试编译。

### 编译
```s
export CMAKE_PREFIX_PATH=~/fastdds-dependency/fastcdr:~/fastdds-dependency/asio/include:~/fastdds-dependency/foonathan_memory:~/fastdds

cd examples
mkdir build & cd build

cmake ..
make -j4
```

### 测试

在一个终端上执行 pub:
```s
./hello_world publisher
```

在另一个终端上执行 sub:
```s
./hello_world subscriber
```

将会看到两端各自发布、和订阅到的消息。

### 通信模式

同一台主机上的 Fast DDS 默认会优先使用共享内存传输，这是为了获得最佳性能。如果共享内存不可用或配置禁用，则会回退到 UDP 环回传输。

可以查看 `/proc/<pid>/fd` 确认进程关联的共享内存文件。

本次测试使用的 Domain ID 为 0，可以在 7401(组播端口，用于数据的广播)和 7411(单播端口，用于数据的单播)端口上抓包，查看是否有数据字段(例如这里传输的"Hello world"):
```s
sudo tcpdump -i lo -vvv -X -n udp port 7401
sudo tcpdump -i lo -vvv -X -n udp port 7411
```
笔者抓包未发现预期数据，所以使用的是共享内存。
